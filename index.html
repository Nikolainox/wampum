<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <title>FI Varikko FAST – Habit Engine</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="brand">
        <span class="brand-mark">VARIKKO</span>
        <div class="brand-text">
          <h1>FI Varikko FAST</h1>
          <p>Habit-kortit ensin · telemetria taustalla</p>
        </div>
      </div>
      <nav class="top-nav">
        <button class="nav-btn active" data-view="habits">Habit-kortit</button>
        <button class="nav-btn" data-view="telemetry">Telemetria</button>
      </nav>
    </header>

    <main>
      <!-- HABIT VIEW (DEFAULT) -->
      <section id="view-habits" class="view active">
        <section class="pit-radio" id="pitRadioCard">
          <div class="pit-header">
            <span class="pit-label">VARIKKORADIO</span>
            <span class="pit-status" id="pitStatus">Analysoidaan päivää…</span>
          </div>
          <div class="pit-body">
            <div class="pit-led"></div>
            <p id="pitMessage">Aloita yhdestä habit-kortista – kaikki muu tulee perässä.</p>
          </div>
        </section>

        <section class="habit-fullscreen-wrap">
          <div id="habitCardContainer" class="habit-card-fullscreen">
            <!-- kortti generoidaan JS:llä -->
          </div>

          <div class="habit-bottom-bar">
            <div id="habitDots" class="habit-dots">
              <!-- pisteet JS:llä -->
            </div>
            <div class="habit-stats-row">
              <span id="quickReadiness">Readiness: – %</span>
              <span id="quickDayMode">Päivä: –</span>
              <span id="quickHabitSummary">Habit: –</span>
            </div>
          </div>
        </section>

        <p class="hint">
          Pyyhkäise vasen/oikea vaihtaaksesi korttia · tuplaklikkaa / tuplanapauta merkkaamaan habitin tilaa (off → done → perfect).
        </p>
      </section>

      <!-- TELEMETRIA VIEW -->
      <section id="view-telemetry" class="view">
        <section class="card telemetry-card">
          <div class="card-header">
            <div>
              <h2>Päivän telemetria</h2>
              <p id="todayDateLabel"></p>
            </div>
            <div class="readiness-chip">
              <span class="chip-label">Race readiness</span>
              <span class="chip-value" id="readinessValue">– %</span>
            </div>
          </div>

          <div class="quick-row">
            <div class="quick-pill" id="dayModeTag">MODE: –</div>
            <div class="quick-pill" id="hardDayTag">PÄIVÄ: –</div>
            <div class="quick-pill" id="habitSummaryTag">HABIT: –</div>
          </div>

          <!-- MINIMI SLIDERIT -->
          <div class="section-block">
            <div class="section-header">
              <h3>Päivän perusdata</h3>
            </div>

            <div class="select-row">
              <label>Päivän luonne</label>
              <select data-field="dayType">
                <option value="practice">Harjoitus / treeni</option>
                <option value="qualifying">Karsinta</option>
                <option value="race" selected>Race day</option>
                <option value="safety">Safety car (selviytyminen)</option>
              </select>
            </div>

            <div class="sliders">
              <div class="slider-row">
                <div class="slider-label">
                  <span>Päivän vaikeus</span>
                  <span id="difficultyLabel" class="slider-value-label">5/10</span>
                </div>
                <input type="range" min="1" max="10" value="5" data-field="difficulty" />
              </div>

              <div class="slider-row">
                <div class="slider-label">
                  <span>Fuel · energia</span>
                  <span id="energyLabel" class="slider-value-label">5/10</span>
                </div>
                <input type="range" min="1" max="10" value="5" data-field="energy" />
              </div>

              <div class="slider-row">
                <div class="slider-label">
                  <span>Stressi</span>
                  <span id="stressLabel" class="slider-value-label">5/10</span>
                </div>
                <input type="range" min="1" max="10" value="5" data-field="stress" />
              </div>

              <div class="slider-row">
                <div class="slider-label">
                  <span>Mieliala</span>
                  <span id="moodLabel" class="slider-value-label">5/10</span>
                </div>
                <input type="range" min="1" max="10" value="5" data-field="mood" />
              </div>

              <div class="slider-row">
                <div class="slider-label">
                  <span>Motivaatio</span>
                  <span id="motivationLabel" class="slider-value-label">5/10</span>
                </div>
                <input type="range" min="1" max="10" value="5" data-field="motivation" />
              </div>
            </div>

            <div class="select-row">
              <label>Uni viime yönä</label>
              <select data-field="sleep">
                <option value="bad">Heikko</option>
                <option value="ok" selected>OK</option>
                <option value="good">Hyvä</option>
              </select>
            </div>
          </div>

          <!-- STRATEGIA -->
          <div class="summary-block">
            <h3>Stint-strategia</h3>
            <p id="stintSummary">Habit-kortit + muutama slideri → varikko rakentaa päivän suunnitelman.</p>
            <p id="pitPlan" class="pit-plan"></p>
          </div>

          <!-- NOTES -->
          <div class="notes-block">
            <label for="notes">Lyhyt merkintä päivästä (1–3 riviä):</label>
            <textarea id="notes" rows="3" placeholder="Esim. mikä tekee tästä päivästä vaikean / tärkeän?"></textarea>
          </div>

          <div class="card-footer">
            <div class="status" id="statusMessage">Tallennus: localStorage (offline)</div>
            <button id="finalizeBtn" class="primary-btn">Lukitse päivä</button>
          </div>
        </section>

        <!-- HISTORY -->
        <section class="card history-card">
          <div class="card-header">
            <div>
              <h2>Telemetria-arkisto</h2>
              <p>Näet, miten selviät kierros kierrokselta.</p>
            </div>
            <button id="exportBtn" class="ghost-btn">Lataa data (JSON)</button>
          </div>

          <div class="history-deck" id="historyList"></div>
          <div class="history-detail" id="historyDetail">
            <p>Valitse päivä nähdäksesi telemetrian ja habit-summan.</p>
          </div>
        </section>

        <p class="hint">
          Täytä telemetria vain kun jaksat – Habit-kortit yksinään riittävät peruskäyttöön.
        </p>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
