<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Spatial Peak</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="topbar">
  <div class="brand">
    <div class="logo"></div>
    <div class="brandText">
      <div class="brandTitle">Spatial Peak</div>
      <div class="brandSub" id="todayLabel">—</div>
    </div>
  </div>
  <div class="topActions">
    <button class="btn ghost" id="revealBtn">Reveal</button>
    <button class="btn primary" id="finalizeBtn">Finalize</button>
  </div>
</header>

<main class="views">

  <section class="view active" id="view-home">
    <div class="hudLine">
      <span id="hudDay">DAY —</span>
      <span id="hudReadiness">READINESS —%</span>
      <span id="hudHand">HAND —/5</span>
      <span id="hudPot">POT +0</span>
      <span id="hudLives">LIVES ●●●●●</span>
    </div>

    <div class="tableSurface">
      <div class="daySpine">
        <div class="spineLabels">
          <div class="spineLabel">Morning</div>
          <div class="spineLabel">Midday</div>
          <div class="spineLabel">Day</div>
          <div class="spineLabel">Evening</div>
          <div class="spineLabel">Night</div>
        </div>

        <div class="spineVizWrap" id="spineWrap">
          <canvas id="spineCanvas" width="140" height="460"></canvas>
        </div>
      </div>

      <div class="handArea">
        <div class="handHead">
          <div class="handTitle">Daily Hand</div>
          <div class="handSub" id="handSub">Pick 3–5 cards. Double tap to mark done.</div>
        </div>

        <div class="handStack" id="handStack"></div>
        <div class="emptyHint" id="emptyHint">Go to Library, double tap habits to add.</div>

        <div class="handActions">
          <button class="btn ghost" id="autoHandBtn">Auto-hand</button>
          <button class="btn ghost" id="clearHandBtn">Clear</button>
          <button class="btn ghost" id="quickTelemetryBtn">Quick Telemetry</button>
          <button class="btn ghost" id="goLibraryBtn">Library</button>
        </div>

        <div class="aiStrip">
          <div class="aiRow">
            <div class="aiK">Leverage</div>
            <div class="aiV" id="aiLeverage">—</div>
          </div>
          <div class="aiRow">
            <div class="aiK">Remove</div>
            <div class="aiV" id="aiRemove">—</div>
          </div>
        </div>
      </div>

      <div class="aiInsight" id="aiInsight"></div>
    </div>

    <div class="actionZone">
      <button id="primaryActionBtn" class="primaryWide">Finalize Day</button>
    </div>

    <div class="legendLine">
      <span class="lg"><i class="sw focus"></i>Focus</span>
      <span class="lg"><i class="sw food"></i>Eating</span>
      <span class="lg"><i class="sw habit"></i>Habits</span>
      <span class="lg"><i class="sw train"></i>Workout</span>
      <span class="lg"><i class="sw sleep"></i>Sleep</span>
      <span class="lg"><i class="sw holo"></i>Hologram</span>
    </div>
  </section>

  <section class="view" id="view-calendar">
    <div class="sectionHead">
      <div class="sectionTitle">Habit Calendar</div>
      <div class="sectionMeta">
        <button class="btn ghost" id="prevMonthBtn">Prev</button>
        <span class="pill" id="monthLabel">—</span>
        <button class="btn ghost" id="nextMonthBtn">Next</button>
      </div>
    </div>

    <div class="panel">
      <div class="calGrid" id="calGrid"></div>
    </div>

    <div class="panel inspect">
      <div class="inspectHead">
        <div class="inspectTitle" id="inspectTitle">Select a day</div>
        <div class="inspectMeta" id="inspectMeta">—</div>
      </div>
      <div class="inspectRail" id="inspectRail"></div>
      <div class="inspectNotes" id="inspectNotes">—</div>
    </div>
  </section>

  <section class="view" id="view-library">
    <div class="sectionHead">
      <div class="sectionTitle">Habit Library</div>
      <div class="sectionMeta">
        <input class="search" id="search" placeholder="Search habits…" />
        <span class="pill">Double tap to add</span>
      </div>
    </div>
    <div id="library"></div>
  </section>

  <section class="view" id="view-insights">
    <div class="sectionHead">
      <div class="sectionTitle">Insights</div>
      <div class="sectionMeta">
        <span class="pill">Bayes + Monte Carlo</span>
        <button class="btn ghost" id="exportBtn">Export JSON</button>
        <button class="btn ghost" id="resetLivesBtn">Reset Lives</button>
      </div>
    </div>

    <div class="insGrid">
      <div class="panel">
        <div class="insTitle">What worked / didn’t</div>
        <div class="insBody" id="insWorked">—</div>
      </div>

      <div class="panel">
        <div class="insTitle">Counterfactual</div>
        <div class="insBody" id="insCounter">—</div>
        <div class="tiny">Built from your finalized days. Needs ~10+ days to become sharp.</div>
      </div>

      <div class="panel">
        <div class="insTitle">Tomorrow plan</div>
        <div class="insBody" id="insTomorrow">—</div>
      </div>

      <div class="panel">
        <div class="insTitle">Lives (Volatility)</div>
        <div class="insBody" id="insLives">—</div>
      </div>
    </div>
  </section>

  <section class="view" id="view-telemetry">
    <div class="panel">
      <div class="sectionTitle">Telemetry</div>
      <div class="tGrid">
        <div class="tField"><label>Energy</label><input type="range" min="1" max="10" value="5" data-field="energy"><div class="tVal" id="energyLabel">5/10</div></div>
        <div class="tField"><label>Stress</label><input type="range" min="1" max="10" value="5" data-field="stress"><div class="tVal" id="stressLabel">5/10</div></div>
        <div class="tField"><label>Mood</label><input type="range" min="1" max="10" value="5" data-field="mood"><div class="tVal" id="moodLabel">5/10</div></div>
        <div class="tField"><label>Motivation</label><input type="range" min="1" max="10" value="5" data-field="motivation"><div class="tVal" id="motivationLabel">5/10</div></div>
        <div class="tField"><label>Difficulty</label><input type="range" min="1" max="10" value="5" data-field="difficulty"><div class="tVal" id="difficultyLabel">5/10</div></div>
        <div class="tField"><label>Sleep</label>
          <select data-field="sleep">
            <option value="good">Good</option>
            <option value="ok" selected>OK</option>
            <option value="bad">Bad</option>
          </select>
          <div class="tVal" id="sleepLabel">OK</div>
        </div>
      </div>

      <div class="tNotes">
        <label>Notes</label>
        <textarea id="notes" rows="4" placeholder="Short note…"></textarea>
      </div>
    </div>
  </section>

</main>

<nav class="bottom">
  <button class="tab active" data-view="home">Home</button>
  <button class="tab" data-view="calendar">Calendar</button>
  <button class="tab" data-view="library">Library</button>
  <button class="tab" data-view="insights">Insights</button>
  <button class="tab" data-view="telemetry">Telemetry</button>
</nav>

<div class="qt hidden" id="qt" role="dialog" aria-modal="true">
  <div class="qtBack" id="qtBack"></div>
  <div class="qtSheet" id="qtSheet">
    <div class="qtGrab"></div>
    <div class="qtTitle">Quick Telemetry</div>

    <div class="qtRow">
      <div class="qtK">Energy</div>
      <input id="qtEnergy" type="range" min="1" max="10" value="5" />
      <div class="qtV" id="qtEnergyV">5</div>
    </div>

    <div class="qtRow">
      <div class="qtK">Stress</div>
      <input id="qtStress" type="range" min="1" max="10" value="5" />
      <div class="qtV" id="qtStressV">5</div>
    </div>

    <div class="qtRow">
      <div class="qtK">Mood</div>
      <input id="qtMood" type="range" min="1" max="10" value="5" />
      <div class="qtV" id="qtMoodV">5</div>
    </div>

    <div class="qtBtns">
      <button class="btn ghost" id="qtClose">Close</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script src="app.js"></script>
</body>
</html>
